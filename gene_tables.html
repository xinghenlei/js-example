<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>dynamically generate tables</title>
</head>
<style>

	td{
		cursor:pointer;text-align:center;border:1px solid #000;padding:5px;
	}

</style>
<body>
	<div>
		<span>行数</span>
		<input type="text" id="line">
		<span>列数</span>
		<input type="text" id="column">
		<button id="gene-table">生成表格</button>
		<table id="table"></table>
	</div>
</body>
<script>
	window.onload=function(){
		var btn=document.getElementById("gene-table");
		var line=document.getElementById("line");
		var column=document.getElementById("column");
		var table=document.getElementById("table");
		var getRandomColor = function(){    
 			return  '#' +    (function(color){    
				return (color +=  '0123456789abcdef'[Math.floor(Math.random()*16)])    
      			&& (color.length == 6) ?  color : arguments.callee(color);    
			})('');    
		} 
		btn.onclick=function(){
			var value1=line.value,value2=column.value;
			var pag=/^[0-9]*$/;
			var table_html="";
			if(pag.test(value1+value2)){
				value1=parseInt(value1);
				value2=parseInt(value2);
				for(var i=0;i<value1;i++)
				{
					table_html+="<tr>";
					for(var j=0;j<value2;j++){
						table_html+="<td style='background-color:"+getRandomColor()+"'>"+Math.floor(Math.random()*30)+"</td>";
					}
					table_html+="</tr>";
				}
				table.innerHTML=table_html;
			}
			else{
				alert("请输入正确的整型数值  \n并在1-100之间")
			}
		}

	}
</script>
</html>